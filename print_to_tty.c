/* 
 *  Send output to the tty we're running on.
 *  tty means Teletype and represents the current text stream.
 *  We print the string to the tty associated with the current task.
 */
#include <linux/kernel.h>
#include <linux/module.h>
#include <linux/sched.h>
#include <linux/tty.h>

static void print_string(char *str)
{
	struct tty_struct *my_tty;

  my_tty = get_current_tty();
  
	if (my_tty != NULL) {
	  // Write str to current tty
    (my_tty->driver->ops->write) (my_tty, str, strlen(str));

    // Write new line with carriage return and line feed
		(my_tty->driver->ops->write) (my_tty, "\015\012", 2);
	}
}

