static unsigned long print_task_by_substring(const char* str) {
  // The struct used for info of a process
  struct task_struct* task;
  
  char keyword[MAX_INPUT_SIZE];
  
  int numFound = 0;
  
  if (copy_from_user(keyword, str, MAX_INPUT_SIZE)) {
    return -EFAULT;
  }
  //terminate string with null character
  keyword[MAX_INPUT_SIZE-1] = 0;
  
  print_string("Processes with substring of keyword:");
          
  // Go over through the list of processes
  for_each_process(task) {
    if (strstr(task->comm, keyword) != NULL) {
      numFound++;
      printk(KERN_INFO "Substring matching process #%d: \"%s\" with PID: %d and keyword: %s\n", 
              numFound, task->comm, task->pid, keyword);
      print_string((task->comm));
    }
  }
  if (!numFound) {
    printk(KERN_INFO "No matching processes found with keyword: \"%s\"\n", keyword);
    print_string("No matching processes found with keyword.");
  }
  

  return numFound;
}
